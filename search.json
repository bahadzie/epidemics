[{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 epidemics authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/articles/epidemics.html","id":"prepare-population-and-initial-conditions","dir":"Articles","previous_headings":"","what":"Prepare population and initial conditions","title":"Getting started with epidemic modelling","text":"Prepare population contact data. Prepare initial conditions age group. Prepare population population class object.","code":"# load contact and population data from socialmixr::polymod polymod <- socialmixr::polymod contact_data <- socialmixr::contact_matrix(   polymod,   countries = \"United Kingdom\",   age.limits = c(0, 20, 40),   symmetric = TRUE )  # prepare contact matrix contact_matrix <- t(contact_data$matrix) # prepare the demography vector demography_vector <- contact_data$demography$population names(demography_vector) <- rownames(contact_matrix)  # view contact matrix and demography contact_matrix #>                   #> contact.age.group     [,1]     [,2]     [,3] #>           [0,20)  7.883663 2.794154 1.565665 #>           [20,40) 3.120220 4.854839 2.624868 #>           40+     3.063895 4.599893 5.005571  demography_vector #>   [0,20)  [20,40)      40+  #> 14799290 16526302 28961159 # initial conditions: 0-20 are more infected than other groups initial_conditions <- rbind(   c(S = 0.99999, I = 0.00001, R = 0, V = 0),   c(S = 0.99999, I = 0.00001, R = 0, V = 0),   c(S = 0.99999, I = 0.00001, R = 0, V = 0) )  # assign rownames for clarity rownames(initial_conditions) <- rownames(contact_matrix)  # view initial conditions initial_conditions #>               S     I R V #> [0,20)  0.99999 1e-05 0 0 #> [20,40) 0.99999 1e-05 0 0 #> 40+     0.99999 1e-05 0 0 new_pop <- population(   name = \"UK\",   contact_matrix = contact_matrix,   demography_vector = demography_vector,   initial_conditions = initial_conditions )  new_pop #> $name #> [1] \"UK\" #>  #> $contact_matrix #>                   #> contact.age.group     [,1]     [,2]     [,3] #>           [0,20)  7.883663 2.794154 1.565665 #>           [20,40) 3.120220 4.854839 2.624868 #>           40+     3.063895 4.599893 5.005571 #>  #> $demography_vector #>   [0,20)  [20,40)      40+  #> 14799290 16526302 28961159  #>  #> $initial_conditions #>               S     I R V #> [0,20)  0.99999 1e-05 0 0 #> [20,40) 0.99999 1e-05 0 0 #> 40+     0.99999 1e-05 0 0 #>  #> attr(,\"class\") #> [1] \"population\""},{"path":"/articles/epidemics.html","id":"prepare-interventions","dir":"Articles","previous_headings":"","what":"Prepare interventions","title":"Getting started with epidemic modelling","text":"Prepare intervention simulate school closures.","code":"# prepare an intervention with a differential effect on age groups close_schools <- intervention(   name = \"School closure\",   time_begin = 200,   time_end = 300,   contact_reduction = c(0.5, 0.001, 0.001) )  close_schools #> $name #> [1] \"School closure\" #>  #> $time_begin #> [1] 200 #>  #> $time_end #> [1] 300 #>  #> $contact_reduction #> [1] 0.500 0.001 0.001 #>  #> attr(,\"class\") #> [1] \"intervention\""},{"path":"/articles/epidemics.html","id":"run-epidemic-model","dir":"Articles","previous_headings":"","what":"Run epidemic model","title":"Getting started with epidemic modelling","text":"","code":"# run an epidemic model output <- epi_demic(   population = new_pop,   infectious_period = rep(6, 3), # age-specific infectious periods are similar   R0 = c(1.2, 1.2, 1.2), # same R0 in all ages   intervention = close_schools,   nu = rep(0, 3), # no vaccination   t_max = 800,   t_increment = 1 )"},{"path":"/articles/epidemics.html","id":"prepare-data-and-visualise-infections","dir":"Articles","previous_headings":"","what":"Prepare data and visualise infections","title":"Getting started with epidemic modelling","text":"Plot infections time.","code":"# rename age groups age_groups <- rownames(contact_matrix) output[, age_group := fcase(   age_group == 1, age_groups[1],   age_group == 2, age_groups[2],   age_group == 3, age_groups[3] )] # plot figure of epidemic curve ggplot(   output[compartment == \"infected\", ],   aes(     x = time,     y = value,     col = age_group,     group = interaction(compartment, age_group)   ) ) +   geom_line() +   annotate(     geom = \"rect\",     xmin = close_schools$time_begin,     xmax = close_schools$time_end,     ymin = 0, ymax = 250e3,     fill = alpha(\"red\", alpha = 0.2),     lty = \"dashed\"   ) +   annotate(     geom = \"text\",     x = mean(c(close_schools$time_begin, close_schools$time_end)),     y = 175e3,     angle = 90,     label = \"School closure\"   ) +   scale_y_continuous(     labels = scales::comma   ) +   scale_colour_brewer(     palette = \"Dark2\",     name = \"Age group\"   ) +   expand_limits(     y = c(0, 250e3)   ) +   coord_cartesian(     expand = FALSE   ) +   theme_classic() +   theme(     legend.position = \"top\"   ) +   labs(     x = \"Simulation time (days)\",     y = \"Total individuals infected\"   )"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Pratik Gupte. Author, maintainer, copyright holder. Rosalind Eggo. Author, copyright holder. Edwin Van Leeuwen. Author, copyright holder.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Gupte P, Eggo R, Van Leeuwen E (2023). epidemics: Model Epidemics Compartmental Models. https://github.com/epiverse-trace/epidemics, https://epiverse-trace.github.io/epidemics/.","code":"@Manual{,   title = {epidemics: Model Epidemics with Compartmental Models},   author = {Pratik Gupte and Rosalind Eggo and Edwin {Van Leeuwen}},   year = {2023},   note = {https://github.com/epiverse-trace/epidemics, https://epiverse-trace.github.io/epidemics/}, }"},{"path":"/index.html","id":"epidemics-model-epidemics","dir":"","previous_headings":"","what":"Model Epidemics with Compartmental Models","title":"Model Epidemics with Compartmental Models","text":"epidemics intended provide functions model epidemic outbreaks. package still work progress, functions placeholders.","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Model Epidemics with Compartmental Models","text":"can install development version epidemics GitHub :","code":"# install.packages(\"remotes\") remotes::install_github(\"epiverse-trace/epidemics\")"},{"path":"/index.html","id":"help","dir":"","previous_headings":"","what":"Help","title":"Model Epidemics with Compartmental Models","text":"report bug please open issue.","code":""},{"path":"/index.html","id":"contribute","dir":"","previous_headings":"","what":"Contribute","title":"Model Epidemics with Compartmental Models","text":"Contributions epidemics welcomed. Please follow package contributing guide.","code":""},{"path":"/index.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of conduct","title":"Model Epidemics with Compartmental Models","text":"Please note epidemics project released Contributor Code Conduct. contributing project, agree abide terms.","code":""},{"path":"/reference/epi_demic.html","id":null,"dir":"Reference","previous_headings":"","what":"Model an SIRV epidemic — epi_demic","title":"Model an SIRV epidemic — epi_demic","text":"Function deterministic susceptible-infectious-recovered model optional vaccination component. Allows heterogeneity social contact patterns, demography distribution, key epidemiological parameters: reproductive number \\(R_0\\), infectious period \\(1/\\gamma\\). Also allows group-specific initial proportions model compartment, well group-specific vaccination start dates vaccination rates.","code":""},{"path":"/reference/epi_demic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Model an SIRV epidemic — epi_demic","text":"","code":"epi_demic(   population,   R0 = 1.5,   infectious_period = 7,   intervention,   nu = 0.01,   t_vax_begin = t_max * 0.6,   t_vax_end = t_max * 0.8,   t_max = 200,   t_increment = 1 )"},{"path":"/reference/epi_demic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Model an SIRV epidemic — epi_demic","text":"population object population class, holds population contact matrix, demography vector, initial conditions demographic group. See population(). R0 reproductive number infection. May single number vector length number demographic groups. infectious_period mean infections period. May single number vector length number demographic groups. intervention object intervention class specifies start end intervention, effect intervention demographic group. See intervention(). nu vaccination rate \\(\\nu\\). May single number vector length number demographic groups. t_vax_begin time vaccination begins. Must number, less t_max. Defaults 60% maximum time. t_vax_end time vaccination ends. Defaults 80% maximum time. t_max maximum number timesteps run model. t_increment size time increment.","code":""},{"path":"/reference/epi_demic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Model an SIRV epidemic — epi_demic","text":"data.frame columns \"time\", \"compartment\", \"age_group\", \"value\". comparments ar \"susceptible\", \"infected\", \"recovered\", \"vaccinated\".","code":""},{"path":"/reference/epi_demic.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Model an SIRV epidemic — epi_demic","text":"","code":"# create a population population <- population(   name = \"UK population\",   contact_matrix = matrix(1),   demography_vector = 67e6,   initial_conditions = matrix(     c(0.9999, 0.0001, 0, 0),     nrow = 1, ncol = 4   ) )  # set up intervention new_intervention <- intervention(   name = \"close schools\",   time_begin = 50,   time_end = 80,   contact_reduction = c(0.2) )  # run epidemic simulation epi_demic(   population = population,   R0 = 1.5, infectious_period = 7,   intervention = new_intervention,   nu = 0.01,   t_vax_begin = 100,   t_vax_end = 200,   t_max = 200,   t_increment = 1 ) #>      time compartment age_group    value #>   1:    0 susceptible         1 66993300 #>   2:    1 susceptible         1 66991812 #>   3:    2 susceptible         1 66990214 #>   4:    3 susceptible         1 66988497 #>   5:    4 susceptible         1 66986654 #>  ---                                     #> 800:  196  vaccinated         1 30242404 #> 801:  197  vaccinated         1 30405281 #> 802:  198  vaccinated         1 30566523 #> 803:  199  vaccinated         1 30726150 #> 804:  200  vaccinated         1 30884178"},{"path":"/reference/epidemics-package.html","id":null,"dir":"Reference","previous_headings":"","what":"epidemics: Model Epidemics with Compartmental Models — epidemics-package","title":"epidemics: Model Epidemics with Compartmental Models — epidemics-package","text":"Model epidemics using compartmental models.","code":""},{"path":[]},{"path":"/reference/epidemics-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"epidemics: Model Epidemics with Compartmental Models — epidemics-package","text":"Maintainer: Pratik Gupte pratik.gupte@lshtm.ac.uk (ORCID) [copyright holder] Authors: Rosalind Eggo rosalind.eggo@lshtm.ac.uk (ORCID) [copyright holder] Edwin Van Leeuwen edwin.vanleeuwen@ukhsa.gov.uk (ORCID) [copyright holder]","code":""},{"path":"/reference/intervention.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a new intervention for an epidemic model — intervention","title":"Construct a new intervention for an epidemic model — intervention","text":"Construct new intervention epidemic model","code":""},{"path":"/reference/intervention.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a new intervention for an epidemic model — intervention","text":"","code":"intervention(name = NA_character_, time_begin, time_end, contact_reduction)"},{"path":"/reference/intervention.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a new intervention for an epidemic model — intervention","text":"name String name intervention. time_begin Single number start time intervention. time_end Single number end time intervention. contact_reduction Single number, vector length number demographic groups, gives overall group-specific proportion reduction contacts respectively.","code":""},{"path":"/reference/intervention.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a new intervention for an epidemic model — intervention","text":"object intervention S3 class.","code":""},{"path":"/reference/intervention.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Construct a new intervention for an epidemic model — intervention","text":"","code":"# assuming a population with two age groups, 0 -- 18, and 18+ # an example in which schools are closed for 30 days (or other time units) close_schools <- intervention(   name = \"close schools\",   time_begin = 50,   time_end = 80,   contact_reduction = c(0.5, 0.01) # reduces contacts differentially )"},{"path":"/reference/is_intervention.html","id":null,"dir":"Reference","previous_headings":"","what":"Check whether an object is an intervention — is_intervention","title":"Check whether an object is an intervention — is_intervention","text":"Check whether object intervention","code":""},{"path":"/reference/is_intervention.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check whether an object is an intervention — is_intervention","text":"","code":"is_intervention(object)"},{"path":"/reference/is_intervention.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check whether an object is an intervention — is_intervention","text":"object object checked intervention.","code":""},{"path":"/reference/is_intervention.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check whether an object is an intervention — is_intervention","text":"logical whether object intervention class.","code":""},{"path":"/reference/is_intervention.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check whether an object is an intervention — is_intervention","text":"","code":"close_schools <- intervention(   name = \"close schools\",   time_begin = 50,   time_end = 80,   contact_reduction = c(0.5, 0.01) # reduces contacts differentially ) is_intervention(close_schools) #> [1] TRUE"},{"path":"/reference/is_population.html","id":null,"dir":"Reference","previous_headings":"","what":"Check whether an object is a population — is_population","title":"Check whether an object is a population — is_population","text":"Check whether object population","code":""},{"path":"/reference/is_population.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check whether an object is a population — is_population","text":"","code":"is_population(object)"},{"path":"/reference/is_population.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check whether an object is a population — is_population","text":"object object checked valid population.","code":""},{"path":"/reference/is_population.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check whether an object is a population — is_population","text":"logical whether object population.","code":""},{"path":"/reference/is_population.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check whether an object is a population — is_population","text":"","code":"# for the UK new_pop <- population(   initial_conditions = matrix(     c(0.999, 0.001, 0, 0),     nrow = 1, ncol = 4   ) ) is_population(new_pop) #> [1] TRUE"},{"path":"/reference/population.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a new population for an epidemic model — population","title":"Construct a new population for an epidemic model — population","text":"Construct new population epidemic model","code":""},{"path":"/reference/population.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a new population for an epidemic model — population","text":"","code":"population(   name = NA_character_,   contact_matrix = matrix(1),   demography_vector = 6.7e+07,   initial_conditions = matrix() )"},{"path":"/reference/population.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a new population for an epidemic model — population","text":"name Optional string population name. contact_matrix matrix giving contacts demographic groups population. Must square matrix. demography_vector vector sizes demographic group. Must length dimensions contact matrix. initial_conditions Matrix representing initial proportions demographic group four model compartments: 'susceptible', 'infected/infectious', 'recovered', 'vaccinated'. Must many rows number demographic groups. compartment represented columns matrix, element \\(M_{ij}\\) represents proportion individuals demographic group \\(\\) compartment \\(j\\) .","code":""},{"path":"/reference/population.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a new population for an epidemic model — population","text":"object population S3 class.","code":""},{"path":"/reference/population.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Construct a new population for an epidemic model — population","text":"","code":"population(   name = \"UK population\",   contact_matrix = matrix(1),   demography_vector = 67e6,   initial_conditions = matrix(     c(0.9999, 0.0001, 0, 0),     nrow = 1, ncol = 4   ) ) #> $name #> [1] \"UK population\" #>  #> $contact_matrix #>      [,1] #> [1,]    1 #>  #> $demography_vector #> [1] 6.7e+07 #>  #> $initial_conditions #>        [,1]  [,2] [,3] [,4] #> [1,] 0.9999 1e-04    0    0 #>  #> attr(,\"class\") #> [1] \"population\""}]
